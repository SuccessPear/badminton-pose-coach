schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/badmintonPoseCoach/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: bd308d1ab0233192a7f93e06372e7b82
      size: 818
    - path: src/badmintonPoseCoach/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 547dd419c9b3d66ec34117540489cc1f
      size: 1085
    outs:
    - path: data/Badminton_Strorke_Video
      hash: md5
      md5: 49b3c8c39594e390568116c8b21b2256.dir
      size: 1315893879
      nfiles: 838
  prepare_base_model:
    cmd: python src/badmintonPoseCoach/pipeline/stage_03_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: bd308d1ab0233192a7f93e06372e7b82
      size: 818
    - path: src/badmintonPoseCoach/pipeline/stage_03_prepare_base_model.py
      hash: md5
      md5: e6b07f410f2446588b3bbed7231e05ec
      size: 970
    params:
      params.yaml:
        prepare_base_model.gru.bidirectional: true
        prepare_base_model.gru.channel: 3
        prepare_base_model.gru.dropout: 0.3
        prepare_base_model.gru.hidden: 128
        prepare_base_model.gru.layers: 1
        prepare_base_model.gru.model_name: gru
        prepare_base_model.gru.num_classes: 6
        prepare_base_model.gru.num_joints: 17
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 45a35160835f45ecd5c81735ac3ff4fe.dir
      size: 571381
      nfiles: 1
  training:
    cmd: python src/badmintonPoseCoach/pipeline/stage_04_model_training.py
    deps:
    - path: artifacts/data_ingestion
      hash: md5
      md5: 08c237634df7aa3f60dd2014d05b4594.dir
      size: 8249139
      nfiles: 826
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 45a35160835f45ecd5c81735ac3ff4fe.dir
      size: 571381
      nfiles: 1
    - path: config/config.yaml
      hash: md5
      md5: bd308d1ab0233192a7f93e06372e7b82
      size: 818
    - path: src/badmintonPoseCoach/pipeline/stage_04_model_training.py
      hash: md5
      md5: 9d5a9f12b6a1d944af6df2a8adc229b9
      size: 1704
  dataset_preprocessing:
    cmd: python 
      src/badmintonPoseCoach/pipeline/stage_02_dataset_preprocessing.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: bd308d1ab0233192a7f93e06372e7b82
      size: 818
    - path: data/Badminton_Strorke_Video
      hash: md5
      md5: 49b3c8c39594e390568116c8b21b2256.dir
      size: 1315893879
      nfiles: 838
    - path: src/badmintonPoseCoach/pipeline/stage_02_dataset_preprocessing.py
      hash: md5
      md5: 364f8d94c77c351ce8ecb64beeb349b8
      size: 930
    params:
      params.yaml:
        dataset_preprocessing.conf: 0.2
        dataset_preprocessing.crop_b: 0.6
        dataset_preprocessing.crop_l: 0.25
        dataset_preprocessing.crop_r: 0.75
        dataset_preprocessing.crop_t: 0.2
        dataset_preprocessing.ema_alpha: 0.6
        dataset_preprocessing.fps: 15
        dataset_preprocessing.idle_active_thr: 0.06
        dataset_preprocessing.idle_mean_speed_thr: 0.004
        dataset_preprocessing.imgsz: 1280
        dataset_preprocessing.iou: 0.5
        dataset_preprocessing.kpt_thr: 0.25
        dataset_preprocessing.max_nan_frame_ratio: 0.5
        dataset_preprocessing.maxdet: 12
        dataset_preprocessing.presence_in_roi_min: 0.5
        dataset_preprocessing.save_overlay: false
        dataset_preprocessing.valid_ratio_end: 0.9
        dataset_preprocessing.valid_ratio_start: 0.1
        dataset_preprocessing.win_len: None
        dataset_preprocessing.win_stride: None
    outs:
    - path: artifacts/data_ingestion
      hash: md5
      md5: 08c237634df7aa3f60dd2014d05b4594.dir
      size: 8249139
      nfiles: 826
